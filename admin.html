<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel ADM</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:#0b0f1a;color:white}

/* NAVBAR */
.navbar{
background:#111827;
padding:15px;
display:flex;
align-items:center;
gap:15px;
}

.menu-btn{
cursor:pointer;
font-size:22px;
}

/* SIDEBAR */
.sidebar{
position:fixed;
left:-250px;
top:0;
width:230px;
height:100%;
background:#1f2937;
transition:.3s;
padding-top:60px;
z-index:1000;
}

.sidebar a{
display:block;
padding:15px;
color:white;
text-decoration:none;
border-bottom:1px solid #374151;
cursor:pointer;
}

.sidebar a:hover{
background:#00ff8830;
}

.sidebar.active{left:0}

/* OVERLAY */
.overlay{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,.6);
display:none;
z-index:900;
}

.overlay.active{display:block}

.content{
padding:20px;
}

.card{
background:#111827;
padding:20px;
border-radius:10px;
margin-bottom:20px;
}
button{
padding:10px;
background:#00ff88;
border:none;
border-radius:6px;
cursor:pointer;
margin-top:10px;
}
button:hover{opacity:.8}
</style>
</head>
<body>

<div class="navbar">
<div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>
<h3>Painel ADM</h3>
</div>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>

<div class="sidebar" id="sidebar">
<a onclick="loadDashboard()">üìä Dashboard</a>
<a onclick="loadUsers()">üë• Usu√°rios</a>
<a onclick="addCredits()">üí∞ Adicionar Cr√©ditos</a>
<a onclick="generateKey()">üîë Gerar Key</a>
<a onclick="viewKeys()">üìÇ Ver Keys</a>
<a onclick="logout()">üö™ Sair</a>
</div>

<div class="content" id="content"></div>

<script>

/* üîê PROTE√á√ÉO */
if(localStorage.getItem("role")!=="admin"){
window.location.href="index.html";
}

/* DADOS */
let users = JSON.parse(localStorage.getItem("users")) || {};
let keys = JSON.parse(localStorage.getItem("keys")) || [];

/* MENU */
function toggleMenu(){
sidebar.classList.toggle("active");
overlay.classList.toggle("active");
}

/* DASHBOARD */
function loadDashboard(){
content.innerHTML=`
<div class="card">
<h3>üìä Estat√≠sticas</h3>
<p>Total usu√°rios: ${Object.keys(users).length}</p>
<p>Total keys: ${keys.length}</p>
</div>
`;
}
loadDashboard();

/* LISTAR USU√ÅRIOS */
function loadUsers(){
let html="<div class='card'><h3>üë• Usu√°rios</h3>";
for(let u in users){
html+=`<p>${u} - Cr√©ditos: ${users[u].credits}</p>`;
}
html+="</div>";
content.innerHTML=html;
}

/* ADICIONAR CR√âDITOS */
function addCredits(){
let user=prompt("Email do usu√°rio:");
let value=parseInt(prompt("Quantidade de cr√©ditos:"));

if(users[user]){
users[user].credits+=value;
localStorage.setItem("users",JSON.stringify(users));
alert("Cr√©ditos adicionados!");
}else{
alert("Usu√°rio n√£o encontrado");
}
}

/* GERAR KEY */
function generateKey(){
let key="KEY-"+Math.random().toString(36).substr(2,9).toUpperCase();

keys.push({
code:key,
owner:"ADMIN",
date:new Date().toLocaleDateString()
});

localStorage.setItem("keys",JSON.stringify(keys));

alert("Key gerada!");
loadDashboard();
}

/* VER TODAS AS KEYS */
function viewKeys(){
let html="<div class='card'><h3>üìÇ Todas as Keys</h3>";

keys.forEach(k=>{
html+=`<p>${k.code} | Dono: ${k.owner} | ${k.date}</p>`;
});

html+="</div>";
content.innerHTML=html;
}

/* LOGOUT */
function logout(){
localStorage.clear();
window.location.href="index.html";
}

</script>

</body>
</html>
